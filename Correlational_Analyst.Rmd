---
title: "Correlation Analysis of Air Pollutants"
author: "Randini Amarathunga"
date: "2025-08-31"
output: html_document
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code.

# DS202.3 â€“ Data Programming with R

## Correlational Analyst

This R Notebook contains the data preparation, Exploratory data analysis and visualizations for Correlational Analyst.In this analysis,I focus on exploring relationships between different air pollutants and testing whether one pollutant can reliably predict another using the WHO Ambient Air Quality dataset (2024).

### 1.Data Preparation

```{r}
# download the essential packages

install.packages("GGally")
install.packages("corrplot")
```

```{r}
library(tidyverse)  # data manipulation and visualization
library(corrplot)   # correlation matrices
library(GGally)     # correlation plots
library(readxl)     # read excel files
```

```{r}
# load the dataset

air_data <- read_excel("who_ambient_air_quality_database_version_2024_(v6.1).xlsx", sheet = "Update 2024 (V6.1) (2)")
```

```{r}
# Check structure of dataset

str(air_data)
```



```{r}
# Getting count of null values in dataset

colSums(is.na(air_data))
```



```{r}
# Drop the unnecessary columns

air_data <- air_data %>%
  select(-pm10_tempcov, -pm25_tempcov, -no2_tempcov, -web_link, -reference, -version, -population_source)
```

```{r}
str(air_data)
```



```{r}
# Confirm if there any null values still there

colSums(is.na(air_data))
```



```{r}
# converting data type to factor

air_data <- air_data %>%
  mutate(
    who_region = as.factor(who_region),
    country_name = as.factor(country_name),
    city = as.factor(city),
    type_of_stations = as.factor(type_of_stations)
  )
```



```{r}
str(air_data)
```

```{r}
# convert the data type of key pollutant to numeric

air_data <- air_data %>%
  mutate(
    pm10_concentration = as.numeric(pm10_concentration),
    pm25_concentration = as.numeric(pm25_concentration),
    no2_concentration  = as.numeric(no2_concentration)
  )
```



```{r}
# Drop rows with missing values in pollutant variables

air_data <- air_data %>%
  drop_na(pm10_concentration, pm25_concentration, no2_concentration)
```


```{r}
colSums(is.na(air_data))
```



```{r}
# Check if there any duplicated values in dataset

sum(duplicated(air_data))
```






###2. Exploratory Data Analysis (EDA) 

```{r}
# Summary statistics for key pollutants

summary(air_data %>% 
          select(pm10_concentration, pm25_concentration, no2_concentration))
```



```{r}

```

















