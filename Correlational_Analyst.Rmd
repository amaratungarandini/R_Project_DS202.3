---
title: "R Notebook"
output: html_notebook
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 


# DS202.3 – Data Programming with R
## Coursework – Scenario C: Correlational Analyst

This R Notebook contains the data preparation, analysis, and visualizations for Correlational Analyst .  
The focus is on exploring relationships between different air pollutants and testing whether one pollutant can reliably predict another.


Stage 1. Data Preparation
```{r}
install.packages("GGally")
install.packages("corrplot")
```



```{r}
# Load all required libraries
library(tidyverse)  # For data manipulation and visualization
library(corrplot)   # For correlation matrices
library(GGally)     # For correlation plots like ggpairs
library(readxl)     # read excel files
```



```{r}
air_data <- read_excel("who_ambient_air_quality_database_version_2024_(v6.1).xlsx", sheet = "Update 2024 (V6.1) (2)")
```




```{r}
str(air_data)
```




```{r}
colSums(is.na(air_data))
```




```{r}
#Drop the columns
air_data <- air_data %>%
  select(-pm10_tempcov, -pm25_tempcov, -no2_tempcov, -web_link, -reference, -version, -population_source)
```




```{r}
str(air_data)
```



```{r}
colSums(is.na(air_data))
```




```{r}
#Converting the data type
air_data <- air_data %>%
  mutate(
    who_region = as.factor(who_region),
    country_name = as.factor(country_name),
    city = as.factor(city),
    type_of_stations = as.factor(type_of_stations)
  )
```





```{r}
str(air_data)
```


```{r}
#Drop rows with missing pollutant values
air_data <- air_data %>%
  drop_na(pm10_concentration, pm25_concentration, no2_concentration)
```



```{r}
colSums(is.na(air_data))
```

```{r}
sum(duplicated(air_data))
```


```{r}
view(air_data)
```



```{r}
glimpse(air_data)
```



```{r}
summary(air_data)
```



```{r}
# Summary statistics for key pollutants

summary(air_data %>% 
          select(pm10_concentration, pm25_concentration, no2_concentration))
```









