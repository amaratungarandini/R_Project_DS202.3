---
title: "R Notebook"
output: html_notebook
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 


# DS202.3 – Data Programming with R
## Coursework – Scenario C: Correlational Analyst

This R Notebook contains the data preparation, analysis, and visualizations for Correlational Analyst .  
The focus is on exploring relationships between different air pollutants and testing whether one pollutant can reliably predict another.



```{r}
install.packages("GGally")
install.packages("corrplot")
```


```{r}
# Load all required libraries
library(tidyverse)  # For data manipulation and visualization
library(corrplot)   # For correlation matrices
library(GGally)     # For correlation plots like ggpairs
library(readxl)     # read excel files
```


```{r}
air_data <- read_excel("who_ambient_air_quality_database_version_2024_(v6.1).xlsx", sheet = "Update 2024 (V6.1) (2)")
```


```{r}
view(air_data)
```

```{r}
str(air_data)
```


```{r}
colSums(is.na(air_data))
```
```{r}
# replace "NA" strings with real NA in the entire dataset
air_data[air_data == "NA"] <- NA   
```

```{r}
colSums(is.na(air_data))
```

```{r}
#Drop rows with missing pollutant values
data_clean <- air_data %>%
  drop_na(pm10_concentration, pm25_concentration, no2_concentration)
```

```{r}
colSums(is.na(data_clean))
```


```{r}
# Drop the three tempcov columns
#select() chooses columns.The - tells R to exclude the column
data_clean <- data_clean %>%
  select(-pm10_tempcov, -pm25_tempcov, -no2_tempcov)
```


```{r}
#drop two columns
data_clean <- data_clean %>%
  select(-web_link, -reference, -version, -population_source)
```



```{r}
str(data_clean)
```
























